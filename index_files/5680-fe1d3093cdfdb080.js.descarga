"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5680],{42734:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(85893),a=t(46107),o=t(45697),i=t.n(o),u=t(92330);function s(e){var n,t=e.name,o=e.label,i=e.required,s=void 0!==i&&i,c=e.defaultValue,l=void 0===c?"":c,d=e.value,p=(e.codBroker,e.onChange),_=e.size,m=e.advisorLabel,f=(0,(0,a.Z)().useGetBrokersListAll)().data;return(0,r.jsx)(u.Z,{name:t,label:o,defaultValue:l,value:d,arrayValues:null!==(n=null===f||void 0===f?void 0:f.p_cur_data)&&void 0!==n?n:[],required:s,noOptionsText:"No hay opciones",onChange:p,size:_,advisorLabel:m})}s.propTypes={name:i().string,label:i().string,required:i().bool,codBroker:i().any,defaultValue:i().any}},78010:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(26042),a=t(69396),o=t(99534),i=t(85893),u=t(50135),s=t(45697),c=t.n(s),l=t(87536),d=t(34386);function p(e){var n,t=e.label,s=e.name,c=e.readonly,p=e.multiline,_=void 0!==p&&p,m=e.rows,f=void 0===m?null:m,y=e.required,v=void 0!==y&&y,g=e.onChange,h=e.helperText,b=void 0===h?null:h,x=e.tooltipMessage,Z=(0,o.Z)(e,["label","name","readonly","multiline","rows","required","onChange","helperText","tooltipMessage"]),P=(0,l.Gc)(),C=P.control,j=P.formState.errors;return(0,i.jsx)(l.Qr,{name:s,control:C,rules:{required:void 0!==v?v:!c,maxLength:e.maxLength,pattern:null===e||void 0===e||null===(n=e.pattern)||void 0===n?void 0:n.value},render:function(n){var l,p,m,y=n.field.onChange,v=(0,o.Z)(n.field,["onChange"]);return(0,i.jsx)(d.Z,{title:x||"",arrow:!0,children:(0,i.jsx)(u.Z,(0,a.Z)((0,r.Z)({},v,Z),{onChange:function(e){y(e),g&&g(e)},multiline:_,rows:f,fullWidth:!0,label:t,error:!!j[s],autoComplete:"cc-csc",InputProps:(0,a.Z)((0,r.Z)({},Z.InputProps),{readOnly:c||!1}),helperText:j[s]&&"required"===(null===(l=j[s])||void 0===l?void 0:l.type)?b?"".concat(b):"Debe indicar el ".concat(t):"maxLength"===(null===(p=j[s])||void 0===p?void 0:p.type)?"".concat(t," debe tener hasta ").concat(e.maxLength," caracteres"):"pattern"===(null===(m=j[s])||void 0===m?void 0:m.type)?e.pattern.message:""}))})}})}p.propTypes={name:c().string.isRequired,label:c().string.isRequired,defaultValue:c().string,onChange:c().func,readonly:c().bool,rest:c().any,required:c().bool,maxLength:c().number,pattern:c().object,multiline:c().bool,rows:c().number,helperText:c().string}},59069:function(e,n,t){t.d(n,{Z:function(){return _}});var r=t(26042),a=t(69396),o=t(99534),i=t(85893),u=(t(67294),t(45697)),s=t.n(u),c=t(87536),l=t(71425),d=(t(15922),t(50135)),p=(0,t(90948).ZP)(d.Z)((function(e){e.theme;var n=e.variant;return{"& input":{border:"none",outline:"none",height:"40px",fontSize:"medium"},"& .MuiFormLabel-root":(0,r.Z)({transition:"transform 0.2s ease-out"},"outlined"===n&&{marginLeft:"3rem"},"standard"===n&&{marginLeft:"0",transform:"translate(14px, -3px) scale(1)",transition:"transform 0.2s ease-out, top 0.2s ease-out",top:"50%",left:"26px",transformOrigin:"top left",zIndex:"1"}),"& .MuiInputLabel-shrink":(0,r.Z)({},"outlined"===n&&{transform:"translate(-36px, -10px) scale(0.75)"},"standard"===n&&{transform:"translate(0, -1.5px) scale(0.75)",top:"0"}),"& .MuiOutlinedInput-input":{display:"flex"},"& .MuiInputBase-root.MuiInput-root":(0,r.Z)({},"standard"===n&&{"& .MuiFormLabel-root":{marginLeft:0,transform:"translate(14px, 20px) scale(1)"},"& .MuiInputLabel-shrink":{transform:"translate(0, -1.5px) scale(0.75)"},"& .MuiInputBase-input":{padding:"4px 0 5px"}})}}));function _(e){var n,t=e.name,u=e.label,s=e.required,d=void 0!==s&&s,_=e.multiline,m=void 0!==_&&_,f=e.rows,y=void 0===f?null:f,v=e.readonly,g=e.variant,h=void 0===g?"outlined":g,b=e.helperText,x=void 0===b?null:b,Z=e.onChange,P=(0,o.Z)(e,["name","label","required","multiline","rows","readonly","variant","helperText","onChange"]),C=(0,c.Gc)(),j=C.control,O=C.formState.errors;return(0,i.jsx)(c.Qr,{name:t,control:j,rules:{required:void 0!==d?d:!v,maxLength:e.maxLength,pattern:null===e||void 0===e||null===(n=e.pattern)||void 0===n?void 0:n.value},render:function(n){var s,c,d,_=n.field,f=_.onChange,g=_.value,b=(0,o.Z)(n.field,["onChange","value"]);return(0,i.jsx)(p,(0,a.Z)((0,r.Z)({},b,P),{variant:h,label:u,value:g||"",onChange:function(e){f(e),Z&&Z(e)},multiline:m,rows:y,fullWidth:!0,error:!!O[t],autoComplete:"cc-csc",InputProps:{inputComponent:l.ZP,inputProps:{readOnly:v||!1,value:g||"",onChange:function(e){f(e)}}},helperText:O[t]&&"required"===(null===(s=O[t])||void 0===s?void 0:s.type)?x?"".concat(x):"Debe indicar ".concat(u):"maxLength"===(null===(c=O[t])||void 0===c?void 0:c.type)?"".concat(u," debe tener hasta ").concat(e.maxLength," caracteres"):"pattern"===(null===(d=O[t])||void 0===d?void 0:d.type)?e.pattern.message:""}))}})}_.propTypes={name:s().string.isRequired,label:s().string.isRequired,onChange:s().func,readonly:s().bool,required:s().bool,maxLength:s().number,pattern:s().object,multiline:s().bool,rows:s().number,helperText:s().string,variant:s().string}},46107:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(47568),a=t(97582),o=t(62327),i=t(88767),u={getBrokersList:function(e){var n=e.p_query,t=void 0===n?"":n,r=e.p_cod_broker,a=void 0===r?"":r;return"/dbo/insurance_broker/get_brokers_list/?p_query=".concat(t,"&p_cod_broker=").concat(a)},getBrokersListAll:"/dbo/insurance_broker/get_brokers_list_all/",getCustomerSubUser:function(e){return"/dbo/insurance_broker/get_customer_sub_user/?p_portal_sub_user_id=".concat(e)},setCustomerSubUserSts:"dbo/insurance_broker/set_customer_sub_user_sts/",setCustomerSubUser:"dbo/insurance_broker/set_customer_sub_user/"};function s(){var e=function(){var e=(0,r.Z)((function(e,n){return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,o.Z.get(u.getBrokersList(e,n))];case 1:return[2,t.sent().data]}}))}));return function(n,t){return e.apply(this,arguments)}}(),n=function(){var e=(0,r.Z)((function(){return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return[4,o.Z.get(u.getBrokersListAll)];case 1:return[2,e.sent().data]}}))}));return function(){return e.apply(this,arguments)}}(),t=function(){var e=(0,r.Z)((function(e){return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,o.Z.get(u.getCustomerSubUser(e))];case 1:return[2,n.sent().data]}}))}));return function(n){return e.apply(this,arguments)}}(),s=function(){var e=(0,r.Z)((function(e){return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,o.Z.post(u.setCustomerSubUserSts,e)];case 1:return[2,n.sent().data]}}))}));return function(n){return e.apply(this,arguments)}}(),c=function(){var e=(0,r.Z)((function(e){return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,o.Z.post(u.setCustomerSubUser,e)];case 1:return[2,n.sent().data]}}))}));return function(n){return e.apply(this,arguments)}}();return{useGetBrokersList:function(n,t){return(0,i.useQuery)(["getBrokersList"],(function(){return e(n,t)}))},useGetBrokersListAll:function(){return(0,i.useQuery)(["getBrokersListAll"],(function(){return n()}))},useGetCustomerSubUser:function(e){return(0,i.useQuery)(["getCustomerSubUser"],(function(){return t(e)}),{enabled:!1})},useSetCustomerSubUserSts:function(){return(0,i.useMutation)(s)},useSetCustomerSubUser:function(){return(0,i.useMutation)(c)}}}},47073:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(47568),a=t(97582),o=t(62327),i=t(88767),u={getPaymentCurrency:function(e){var n=e.p_identification_type,t=void 0===n?null:n,r=e.p_identification_number,a=void 0===r?null:r;return"/dbo/treasury/get_payment_currency/?p_identification_type=".concat(t,"&p_identification_number=").concat(a)},getPaymentOptions:function(e){var n=e.p_currency_company,t=void 0===n?null:n,r=e.p_identification_type,a=void 0===r?null:r,o=e.p_identification_number,i=void 0===o?null:o;return"/dbo/treasury/get_payment_option_menu/?p_currency_company=".concat(t,"&p_identification_type=").concat(a,"&p_identification_number=").concat(i)},getClientInvoice:function(e){var n=e.p_currency_company,t=void 0===n?null:n,r=e.p_payment_type,a=void 0===r?null:r,o=e.p_identification_type,i=void 0===o?null:o,u=e.p_identification_number,s=void 0===u?null:u;return"/dbo/treasury/get_client_invoice/?p_currency_company=".concat(t,"&p_payment_type=").concat(a,"&p_identification_type=").concat(i,"&p_identification_number=").concat(s)},getPaymentPolicyMenu:function(e){var n=e.p_policy_id,t=void 0===n?null:n,r=e.p_certified_id,a=void 0===r?null:r;return"/dbo/treasury/get_payment_policy_menu/?p_policy_id=".concat(t,"&p_certified_id=").concat(a)},getInsurancePolicyInvoice:function(e){var n=e.p_policy_id,t=void 0===n?null:n,r=e.p_certified_id,a=void 0===r?null:r;return"/dbo/treasury/get_insurance_policy_invoice/?p_policy_id=".concat(t,"&p_certified_id=").concat(a)},getDateRange:"/dbo/treasury/get_date_range/",getPayment:function(e){var n=e.p_range,t=void 0===n?"":n,r=e.p_start_date,a=void 0===r?"":r,o=e.p_end_date,i=void 0===o?"":o;return"/dbo/treasury/get_payment/?p_range=".concat(t,"&p_start_date=").concat(a,"&p_end_date=").concat(i)},getPaymentMethods:function(e){var n=e.p_payment_provider_id,t=e.p_default_currency_company;return"/dbo/treasury/get_payment_methods/?p_payment_provider_id=".concat(n,"&p_default_currency_company=").concat(t)},postMerchantOperation:"/dbo/treasury/request_merchant_operation/",updateMerchantOperation:"/dbo/treasury/update_merchant_operation/",deleteMerchantOperation:"/dbo/treasury/delete_merchant_operation/",currencyConversion:function(e){var n=e.p_codmonedapag,t=e.p_idepol,r=e.p_codmonedaorig,a=e.p_invoices;return"/dbo/cotiza_proveedor/generate_multi_payment/?p_codmonedapag=".concat(n,"&p_idepol=").concat(t,"&p_codmonedaorig=").concat(r,"&p_invoices=").concat(a)}};function s(){var e=function(){var e=(0,r.Z)((function(e){return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,o.Z.get(u.getPaymentCurrency(e))];case 1:return[2,n.sent().data]}}))}));return function(n){return e.apply(this,arguments)}}(),n=function(){var e=(0,r.Z)((function(e){return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,o.Z.get(u.getPaymentOptions(e))];case 1:return[2,n.sent().data]}}))}));return function(n){return e.apply(this,arguments)}}(),t=function(){var e=(0,r.Z)((function(e){return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,o.Z.get(u.getClientInvoice(e))];case 1:return[2,n.sent().data]}}))}));return function(n){return e.apply(this,arguments)}}(),s=function(){var e=(0,r.Z)((function(e){return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,o.Z.get(u.getPaymentPolicyMenu(e))];case 1:return[2,n.sent().data]}}))}));return function(n){return e.apply(this,arguments)}}(),c=function(){var e=(0,r.Z)((function(e){return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,o.Z.get(u.getInsurancePolicyInvoice(e))];case 1:return[2,n.sent().data]}}))}));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)((function(){return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return[4,o.Z.get(u.getDateRange)];case 1:return[2,e.sent().data]}}))}));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)((function(e){return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,o.Z.get(u.getPayment(e))];case 1:return[2,n.sent().data]}}))}));return function(n){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)((function(e){return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,o.Z.get(u.getPaymentMethods(e))];case 1:return[2,n.sent().data]}}))}));return function(n){return e.apply(this,arguments)}}(),_=function(){var e=(0,r.Z)((function(e){return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,o.Z.post(u.postMerchantOperation,e)];case 1:return[2,n.sent().data]}}))}));return function(n){return e.apply(this,arguments)}}(),m=function(){var e=(0,r.Z)((function(e){return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,o.Z.post(u.updateMerchantOperation,e)];case 1:return[2,n.sent().data]}}))}));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)((function(e){return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,o.Z.post(u.deleteMerchantOperation,e)];case 1:return[2,n.sent().data]}}))}));return function(n){return e.apply(this,arguments)}}(),y=function(){var e=(0,r.Z)((function(e){return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,o.Z.get(u.currencyConversion(e))];case 1:return[2,n.sent().data]}}))}));return function(n){return e.apply(this,arguments)}}();return{useGetPaymentCurrency:function(n,t){return(0,i.useQuery)(["get_payment_currency",t],(function(){return e(t)}),{enabled:n})},useGetPaymentOptions:function(e){return(0,i.useQuery)(["get_payment_options",e],(function(){return n(e)}),{enabled:!1})},useGetClientInvoice:function(e,n){var r=n.p_currency_company,a=n.p_payment_type;return(0,i.useQuery)(["get_client_invoice",n],(function(){return t(n)}),{enabled:!!r&&!!a&&e})},useGetPaymentPolicyMenu:function(e,n){return(0,i.useQuery)(["payment_policy_menu",n],(function(){return s(n)}),{enabled:e})},useGetInsurancePolicyInvoice:function(e,n){return(0,i.useQuery)(["get_insurance_policy_invoice",n],(function(){return c(n)}),{enabled:e})},useGetDateRange:function(){return(0,i.useQuery)(["get_date_range"],(function(){return l()}))},useGetPayment:function(e){return(0,i.useQuery)(["get_payment",e],(function(){return d(e)}),{enabled:!!e})},useGetPaymentMethods:function(e){return(0,i.useQuery)(["getPaymentMethods",e],(function(){return p(e)}))},usePostMerchantOperation:function(){return(0,i.useMutation)(_)},useUpdateMerchantOperation:function(){return(0,i.useMutation)(m)},useDeleteMerchantOperation:function(){return(0,i.useMutation)(f)},useCurrencyConversion:function(e,n){return(0,i.useQuery)(["generate_multi_payment",n],(function(){return y(n)}),{enabled:!!n.p_codmonedapag&&!!n.p_idepol&&!!n.p_codmonedaorig&&e})}}}},65160:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(85893),a=t(67294),o=t(91708),i=t(57007),u=t(11057),s=t(86886),c=t(93725);function l(e){var n=e.params,t=(0,(0,i.Z)().useGetDocumentsDownload)(n),l=t.data,d=t.refetch;return(0,a.useEffect)((function(){n&&d()}),[n]),(0,r.jsx)(r.Fragment,{children:n&&l&&(0,r.jsxs)(r.Fragment,{children:["SUS"===(null===n||void 0===n?void 0:n.process_type)&&(0,r.jsx)(s.ZP,{item:!0,xs:12,sm:12,md:12,children:(0,r.jsx)(c.iP,{severity:"warning",status:!0,objMsg:{message:"Para culminar con la compra debe imprimir la Planilla de Solicitud de Seguros, complementar los datos, firmar y entregar a su asesor de seguros o ante nuestras oficinas."}})}),(0,r.jsx)(s.ZP,{container:!0,justifyContent:"center",m:3,children:l.p_documents.map((function(e,n){return(0,r.jsx)(u.Z,{color:"secondary",variant:"contained",onClick:function(){return n=e.DOCUMENT_URL,void window.open(n,"_blank");var n},endIcon:(0,r.jsx)(o.Z,{icon:"bxs:cloud-download"}),children:e.DOCUMENT_LABEL},n)}))})]})})}},47865:function(e,n,t){t.d(n,{Z:function(){return ue}});var r=t(85893),a=t(93725),o=t(72007),i=t(47073),u=t(10030),s=t(87784),c=t(86886),l=t(11057),d=t(11163),p=t(45697),_=t.n(p),m=t(67294),f=t(86501),y=t(47568),v=t(97582),g=t(62327),h=t(88767),b={postPay:"/pays/",postPaybanesco:"/dbo/pays_bank/pays_bancarios/",postPayMoneyways:"/dbo/pays_bank/pays_Moneyways/",setPaysDetails:"/dbo/pays_bank/set_payment_details/",postPayBnc:"/dbo/pays_bank/mobile_payment_emission/",getListBanks:"/dbo/pays_bank/get_list_banks/"};function x(){var e=function(){var e=(0,y.Z)((function(e){return(0,v.__generator)(this,(function(n){switch(n.label){case 0:return[4,g.Z.post(b.postPay,e)];case 1:return[2,n.sent().data]}}))}));return function(n){return e.apply(this,arguments)}}(),n=function(){var e=(0,y.Z)((function(e){return(0,v.__generator)(this,(function(n){switch(n.label){case 0:return[4,g.Z.post(b.postPaybanesco,e)];case 1:return[2,n.sent().data]}}))}));return function(n){return e.apply(this,arguments)}}(),t=function(){var e=(0,y.Z)((function(e){return(0,v.__generator)(this,(function(n){switch(n.label){case 0:return[4,g.Z.post(b.postPayMoneyways,e)];case 1:return[2,n.sent().data]}}))}));return function(n){return e.apply(this,arguments)}}(),r=function(){var e=(0,y.Z)((function(e){return(0,v.__generator)(this,(function(n){switch(n.label){case 0:return[4,g.Z.post(b.setPaysDetails,e)];case 1:return[2,n.sent().data]}}))}));return function(n){return e.apply(this,arguments)}}(),a=function(){var e=(0,y.Z)((function(e){return(0,v.__generator)(this,(function(n){switch(n.label){case 0:return[4,g.Z.post(b.postPayBnc,e)];case 1:return[2,n.sent().data]}}))}));return function(n){return e.apply(this,arguments)}}(),o=function(){var e=(0,y.Z)((function(){return(0,v.__generator)(this,(function(e){switch(e.label){case 0:return[4,g.Z.get(b.getListBanks)];case 1:return[2,e.sent().data]}}))}));return function(){return e.apply(this,arguments)}}();return{usePostPay:function(){return(0,h.useMutation)(e)},usePostPayBanesco:function(){return(0,h.useMutation)(n)},usePostPayMoneyways:function(){return(0,h.useMutation)(t)},useSetPaysDetail:function(){return(0,h.useMutation)(r)},usePostPayBnc:function(){return(0,h.useMutation)(a)},useGetListBanks:function(){return(0,h.useQuery)(["get_list_banks"],(function(){return o()}))}}}var Z=t(31132),P=t(14924),C=t(26042),j=t(69396),O=t(3584),E=t(99534),N=t(87536),S=t(40872),M=t(57333),I=t(50135);function T(e){var n=(0,S.Z)({},e);return(0,r.jsx)(M.Z,(0,j.Z)((0,C.Z)({},n),{customInput:I.Z,fullWidth:!0,format:"##/##",type:"text"}))}function A(e){var n=e.label,t=e.name,a=e.readonly,o=e.required,i=void 0!==o&&o,u=e.onChange,s=e.helperText,c=void 0===s?null:s,l=(0,E.Z)(e,["label","name","readonly","required","onChange","helperText"]),d=(0,N.Gc)(),p=d.control,_=d.formState.errors;return(0,r.jsx)(N.Qr,{name:t,control:p,rules:{required:void 0!==i?i:!a},render:function(e){var o=e.field.onChange,i=(0,E.Z)(e.field,["onChange"]);return(0,r.jsx)(T,(0,j.Z)((0,C.Z)({},i,l),{onChange:function(e){o(e),u&&u(e)},label:n,error:!!_[t],InputProps:(0,j.Z)((0,C.Z)({},l.InputProps),{readOnly:a||!1}),helperText:_[t]&&"required"===_[t].type&&(c?"".concat(c):"Debe indicar ".concat(n))}))}})}A.propTypes={name:_().string.isRequired,label:_().string.isRequired,defaultValue:_().string,readonly:_().bool,rest:_().any,helperText:_().string};var D=t(51233),R=t(16054);t(74853);function L(e){var n=e.onChange,t=(0,E.Z)(e,["onChange"]);return(0,r.jsx)(M.Z,(0,j.Z)((0,C.Z)({},t),{customInput:I.Z,format:"###",mask:"_",type:"tel",onValueChange:function(e){return n(e.value)}}))}function k(e){var n=e.label,t=e.name,a=e.readonly,o=e.required,i=e.maxLength,u=e.onChange,s=(0,E.Z)(e,["label","name","readonly","required","maxLength","onChange"]),c=(0,N.Gc)(),l=c.control,d=c.formState.errors;return(0,r.jsx)(N.Qr,{name:t,control:l,rules:(0,C.Z)({required:o},i&&{maxLength:i}),render:function(e){var t,o,c=e.field,l=c.onChange,p=c.name,_=c.value;return(0,r.jsx)(L,(0,j.Z)((0,C.Z)({name:p,value:_,onChange:function(e){l(e),u&&u(e)}},s),{label:n,error:!!d[p],InputProps:(0,j.Z)((0,C.Z)({},s.InputProps),{readOnly:a||!1}),helperText:d[p]&&"required"===(null===(t=d[p])||void 0===t?void 0:t.type)?"Debe indicar el ".concat(n):"maxLength"===(null===(o=d[p])||void 0===o?void 0:o.type)?"".concat(n," debe tener hasta ").concat(i," digitos"):""}))}})}function q(e){var n=e.handlePay,t=e.acceptedCards,a=e.textButton,i=(0,m.useState)({identificationType:"",identification:"",number:"",name:"",expiry:"",cvc:"",issuer:"",focused:""}),u=i[0],d=i[1],p=(0,N.cI)(),_=p.handleSubmit,f=function(e){d((0,j.Z)((0,C.Z)({},u),{focused:e.target.name}))},g=function(e){var n=e.target,t=n.name,r=n.value;d((0,j.Z)((0,C.Z)({},u),(0,P.Z)({},t,r)))},h=function(){var e=(0,y.Z)((function(e){return(0,v.__generator)(this,(function(t){return n(e),[2]}))}));return function(n){return e.apply(this,arguments)}}();return(0,r.jsxs)(c.ZP,{container:!0,children:[(0,r.jsx)(c.ZP,{item:!0,xs:12,md:6,my:2,children:(0,r.jsx)(R.Z,{number:u.number,name:u.name,expiry:u.expiry,cvc:u.cvc,focused:u.focused,callback:function(e,n){d((0,j.Z)((0,C.Z)({},u),{issuer:e}))},acceptedCards:t,placeholders:{name:"Tu nombre aqui"}})}),(0,r.jsx)(c.ZP,{item:!0,xs:12,md:6,children:(0,r.jsx)(o.RV,{methods:p,onSubmit:_(h),children:(0,r.jsxs)(D.Z,{spacing:2.5,children:[a?(0,r.jsx)(O.c9,{index:0,arrayValues:s.IQ,required:!0}):null,(0,r.jsx)(O.ym,{name:"number",label:"Ingrese su n\xfamero de tarjeta",InputProps:{maxLength:19},onChange:function(e){return d((0,j.Z)((0,C.Z)({},u),{number:e}))},onFocus:f,required:!0,helperText:"Debe indicar el n\xfamero de tarjeta"}),(0,r.jsx)(O.be,{name:"name",label:"Ingrese su nombre como en la tarjeta",onChange:g,onFocus:f,required:!0,helperText:"Debe indicar su nombre como en la tarjeta"}),(0,r.jsx)(A,{name:"expiry",label:"Ingrese la fecha de vencimiento",onChange:g,onFocus:f,autoComplete:"off",required:!0,helperText:"Debe indicar la fecha de vencimiento"}),(0,r.jsx)(k,{name:"cvc",label:"Ingrese el c\xf3digo de seguridad del reverso",InputProps:{maxLength:3},onChange:function(e){return d((0,j.Z)((0,C.Z)({},u),{cvc:e}))},onFocus:f,required:!0,helperText:"Debe indicar el c\xf3digo de seguridad del reverso"}),(0,r.jsx)(c.ZP,{container:!0,justify:"center",children:(0,r.jsx)(l.Z,{variant:"contained",color:"secondary",type:"submit",fullWidth:!0,size:"large",children:"Pagar"})})]})})})]})}function w(e){var n=e.dataPay,t=e.onSuccess,a=e.onError,u=e.amount,c=(0,m.useState)(),l=c[0],d=c[1],p=(0,m.useState)(),_=p[0],g=p[1],h={p_string_json_merchant_data:JSON.stringify({id_metodo_cobranza:n.ID_METODO_COBRANZA,total_amount_operation:u,company_code:n.COMPANY_CODE,client_code:n.INVOICE[0].CODCLI}),p_string_json_invoices_data:JSON.stringify(n.INVOICE.map((function(e){var n={};return n.invoice_number=e.NUMFACT,n})))},b=(0,i.Z)(),P=b.useGetPaymentMethods,C=b.usePostMerchantOperation,j=P({p_payment_provider_id:n.PAYMENT_PROVIDER_ID,p_default_currency_company:n.DEFAULT_CURRENCY_COMPANY}).data,O=C().mutate,E=(0,x().usePostPay)(),N=E.mutate,S=E.isLoading;(0,m.useEffect)((function(){n&&M()}),[n]);var M=function(){var e=(0,y.Z)((function(){return(0,v.__generator)(this,(function(e){return O(h,{onSuccess:function(e){e&&d(e.result)}}),[2]}))}));return function(){return e.apply(this,arguments)}}();function I(){return(I=(0,y.Z)((function(e){var t,r;return(0,v.__generator)(this,(function(a){return t=e.expiry.split("/"),r={cards:[{amount:parseFloat(u.toFixed(2)),cardholder:e.name,cardnumber:parseInt(e.number.replace(/ /g,"")),cvc:parseInt(e.cvc),expirationmonth:parseInt(t[0]),expirationyear:parseInt(t[1])}],p_payment_provider_id:n.PAYMENT_PROVIDER_ID,p_payment_provider_name:"BANCAMIGA",p_invoice:l,p_currency:n.DEFAULT_CURRENCY},N(r,{onSuccess:function(n){n.ok&&n.aprobado&&"00"==n.respuesta_codigo?D(n,e):A(n,e)},onError:function(e){f.ZP.error((0,s.J4)(e.response.data))}}),[2]}))}))).apply(this,arguments)}(0,m.useEffect)((function(){j&&g(j.result[0].PAYMENT_DOCUMENT_TYPE)}),[j]);var T=function(e,n,t){return!(!e.ok||!e.aprobado||"00"!=e.respuesta_codigo)?{p_string_json_status_oper:JSON.stringify({company_operation_number:l,status_operation:"APROBADO",long_approval_code:n.number,short_approval_code:e.numero.toString()}),p_string_list_json_data:JSON.stringify([{company_operation_number:l,date_approval:(0,Z.Z)(new Date,"dd/MM/yyyy"),another_approval_code:e.numero.toString(),payment_document_type:_,amount_value:parseFloat(u.toFixed(2)),commission_amount:0}])}:{p_string_json_status_oper:JSON.stringify({company_operation_number:l,status_operation:"NoOK",long_approval_code:t,short_approval_code:e.numero,provider_response:e}),p_string_list_json_data:JSON.stringify([{company_operation_number:l,date_approval:(0,Z.Z)(new Date,"dd/MM/yyyy"),another_approval_code:"S/N",payment_document_type:_,amount_value:parseFloat(u.toFixed(2)),commission_amount:0}])}},A=function(){var e=(0,y.Z)((function(e,n){var t,r;return(0,v.__generator)(this,(function(o){switch(o.label){case 0:return t=R(e),r=T(e,n,t),[4,a(r)];case 1:return o.sent(),[4,M()];case 2:return o.sent(),f.ZP.error(t),[2]}}))}));return function(n,t){return e.apply(this,arguments)}}(),D=function(){var e=(0,y.Z)((function(e,n){var r;return(0,v.__generator)(this,(function(a){return r=T(e,n),t(r),[2]}))}));return function(n,t){return e.apply(this,arguments)}}(),R=function(e){return void 0===e.respuesta_data||""===e.respuesta_data||null===e.respuesta_data?void 0===e.mensaje||""===e.mensaje||null===e.mensaje?"No se pudo procesar el pago, por favor comun\xedquese con su Banco Emisor.":"".concat(e.mensaje,". Respuesta del Banco."):"".concat(e.respuesta_data,". Respuesta del Banco.")};return(0,r.jsxs)(r.Fragment,{children:[S&&(0,r.jsx)(o.a_,{disableBg:!0}),!S&&(0,r.jsx)(q,{handlePay:function(e){return I.apply(this,arguments)},acceptedCards:["visa","mastercard","amex"]})]})}k.propTypes={name:_().string.isRequired,label:_().string.isRequired,defaultValue:_().string,readonly:_().bool,rest:_().any,required:_().bool,maxLength:_().number},w.propTypes={dataPay:_().object,onSuccess:_().func,onError:_().func,amount:_().number};var B=t(92369);function F(e){var n=e.dataPay,t=e.onSuccess,a=e.onError,u=e.amount,c=(0,m.useState)(),l=c[0],d=c[1],p=(0,m.useState)(),_=p[0],g=p[1],h=(0,m.useState)(""),b=h[0],P=h[1],C={p_string_json_merchant_data:JSON.stringify({id_metodo_cobranza:n.ID_METODO_COBRANZA,total_amount_operation:u,company_code:n.COMPANY_CODE,client_code:n.INVOICE[0].CODCLI}),p_string_json_invoices_data:JSON.stringify(n.INVOICE.map((function(e){var n={};return n.invoice_number=e.NUMFACT,n})))},j=(0,i.Z)(),O=j.useGetPaymentMethods,E=j.usePostMerchantOperation,N=O({p_payment_provider_id:n.PAYMENT_PROVIDER_ID,p_default_currency_company:n.DEFAULT_CURRENCY_COMPANY}).data,S=E().mutate,M=(0,x().usePostPayBanesco)(),I=M.mutate,T=M.isLoading;(0,m.useEffect)((function(){n&&A()}),[n]);var A=function(){var e=(0,y.Z)((function(){return(0,v.__generator)(this,(function(e){return S(C,{onSuccess:function(e){e&&d(e.result)}}),[2]}))}));return function(){return e.apply(this,arguments)}}();function D(){return(D=(0,y.Z)((function(e){var t,r;return(0,v.__generator)(this,(function(a){return t=e.expiry.split("/"),r={p_json_cards:JSON.stringify({tipoid:e.p_identification_type_0,numid:e.p_identification_number_0,amount:parseFloat(u.toFixed(2)),cardholder:e.name,cardnumber:parseInt(e.number.replace(/ /g,"")),cvc:parseInt(e.cvc),expirationmonth:t[0],expirationyear:parseInt(t[1]),p_payment_provider_id:n.PAYMENT_PROVIDER_ID,p_payment_provider_name:"BANESCO",p_invoice:l,p_currency:n.DEFAULT_CURRENCY,p_clientIP:b})},I(r,{onSuccess:function(n){var t=JSON.parse(n.p_json_result);201==t.code&&1==t.success?k(t,e):L(t,e)},onError:function(e){f.ZP.error((0,s.J4)(e.response.data))}}),[2]}))}))).apply(this,arguments)}(0,m.useEffect)((function(){N&&g(N.result[0].PAYMENT_DOCUMENT_TYPE)}),[N]),(0,m.useEffect)((function(){var e=function(){var e=(0,y.Z)((function(){var e,n;return(0,v.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,B.Z.get("https://api.ipify.org?format=json")];case 1:return e=t.sent(),P(e.data.ip),[3,3];case 2:return n=t.sent(),P("127.0.0.1"),console.error("Error al obtener la direcci\xf3n IP del cliente:",n),[3,3];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}();e()}),[]);var R=function(e,n,t){return 201==e.code&&1==e.success?{p_string_json_status_oper:JSON.stringify({company_operation_number:l,status_operation:"APROBADO",long_approval_code:e.id.toString(),short_approval_code:n.number}),p_string_list_json_data:JSON.stringify([{company_operation_number:l,date_approval:(0,Z.Z)(new Date,"dd/MM/yyyy"),another_approval_code:n.number,payment_document_type:_,amount_value:parseFloat(u.toFixed(2)),commission_amount:0}])}:{p_string_json_status_oper:JSON.stringify({company_operation_number:l,status_operation:"NoOK",long_approval_code:t,short_approval_code:"No",provider_response:e}),p_string_list_json_data:JSON.stringify([{company_operation_number:l,date_approval:(0,Z.Z)(new Date,"dd/MM/yyyy"),another_approval_code:"S/N",payment_document_type:_,amount_value:parseFloat(u.toFixed(2)),commission_amount:0}])}},L=function(){var e=(0,y.Z)((function(e,n){var t,r;return(0,v.__generator)(this,(function(o){switch(o.label){case 0:return t=w(e),r=R(e,n,t),[4,a(r)];case 1:return o.sent(),[4,A()];case 2:return o.sent(),f.ZP.error(t),[2]}}))}));return function(n,t){return e.apply(this,arguments)}}(),k=function(){var e=(0,y.Z)((function(e,n){var r;return(0,v.__generator)(this,(function(a){return r=R(e,n),t(r),[2]}))}));return function(n,t){return e.apply(this,arguments)}}(),w=function(e){return void 0===e.message||""===e.message||null===e.message?"No se pudo procesar el pago, por favor comun\xedquese con su Banco Emisor.":"".concat(e.message,". Respuesta del Banco.")};return(0,r.jsxs)(r.Fragment,{children:[T&&(0,r.jsx)(o.a_,{disableBg:!0}),!T&&(0,r.jsx)(q,{handlePay:function(e){return D.apply(this,arguments)},acceptedCards:["visa","mastercard","amex"],textButton:"BANESCO"})]})}F.propTypes={dataPay:_().object,onSuccess:_().func,onError:_().func,amount:_().number};var U=t(59069);function V(e){var n=e.handlePay,t=(0,m.useState)({identificationType:"",identification:"",email:"",phoneNumber:""}),a=t[0],i=t[1],u=(0,N.cI)(),d=u.handleSubmit,p=function(){var e=(0,y.Z)((function(e){return(0,v.__generator)(this,(function(t){return n(e),[2]}))}));return function(n){return e.apply(this,arguments)}}();return(0,r.jsx)(c.ZP,{container:!0,style:{placeContent:"center"},children:(0,r.jsx)(c.ZP,{item:!0,xs:12,md:6,children:(0,r.jsx)(o.RV,{methods:u,onSubmit:d(p),children:(0,r.jsxs)(D.Z,{spacing:2.5,children:[(0,r.jsx)(O.c9,{index:0,arrayValues:s.IQ,required:!0}),(0,r.jsx)(U.Z,{name:"phoneNumber",label:"N\xfamero de Telefono",onChange:function(e){return i((0,j.Z)((0,C.Z)({},a),{phone:e}))},required:!0}),(0,r.jsx)(O.be,{name:"email",label:"Ingrese su correo electronico",onChange:function(e){var n=e.target,t=n.name,r=n.value;i((0,j.Z)((0,C.Z)({},a),(0,P.Z)({},t,r)))},required:!0,helperText:"Debe indicar su correo electronico"}),(0,r.jsx)(c.ZP,{container:!0,justify:"center",children:(0,r.jsx)(l.Z,{variant:"contained",color:"secondary",type:"submit",fullWidth:!0,size:"large",children:"Enviar Datos"})})]})})})})}var J=t(73823),G=t(64666),Y=t(37645),Q=t(6514),z=t(58951),W=t(31425);function H(e){var n=e.dataPay,t=e.handleHome,a=(e.onSuccess,e.onError,e.amount),u=(0,m.useState)(null),c=(u[0],u[1]),d=(0,m.useState)(),p=(d[0],d[1]),_=(0,m.useState)(null),g=_[0],h=_[1],b=(0,m.useState)(!1),Z=b[0],P=b[1],O={p_string_json_merchant_data:JSON.stringify({id_metodo_cobranza:n.ID_METODO_COBRANZA,total_amount_operation:a,company_code:n.COMPANY_CODE,client_code:n.INVOICE[0].CODCLI}),p_string_json_invoices_data:JSON.stringify(n.INVOICE.map((function(e){var n={};return n.invoice_number=e.NUMFACT,n})))},N=(0,i.Z)(),S=N.useGetPaymentMethods,M=N.usePostMerchantOperation,I=S({p_payment_provider_id:n.PAYMENT_PROVIDER_ID,p_default_currency_company:n.DEFAULT_CURRENCY_COMPANY}).data,T=M().mutate,A=x(),D=A.usePostPayMoneyways,R=A.useSetPaysDetail,L=D(),k=L.mutate,q=L.isLoading,w=R().mutate,B=function(){var e=(0,y.Z)((function(e){var t,r;return(0,v.__generator)(this,(function(a){return t=JSON.parse(sessionStorage.getItem("PROFILE"))?JSON.parse(sessionStorage.getItem("PROFILE")).P_PORTAL_USER_ID:"2",e&&(r={p_json_datail:JSON.stringify({p_bills:n.INVOICE,p_user_id:null===t||void 0===t?void 0:t.toString(),p_numberOperation:null===e||void 0===e?void 0:e.toString()})},w(r,{onSuccess:function(e){r&&h(e.payment_operation)},onError:function(e){f.ZP.error((0,s.J4)(e.response.data))}})),[2]}))}));return function(n){return e.apply(this,arguments)}}(),F=function(){P(!1),t()},U=function(){var e=(0,y.Z)((function(e){var n,t,r,o,i;return(0,v.__generator)(this,(function(u){try{if(!(n=(0,J.S)(e.phoneNumber,"+58"))||!n.isValid())throw new Error("N\xfamero de tel\xe9fono no v\xe1lido.");t=n.countryCallingCode,r=n.nationalNumber,o=[e].map((function(e){var n=e.p_identification_number_0,o=e.p_identification_type_0,i=(0,E.Z)(e,["p_identification_number_0","p_identification_type_0"]);return(0,j.Z)((0,C.Z)({},i),{phoneNumber:r,phoneCode:t,amount:parseFloat(a.toFixed(2)),comment:g.toString(),identification:"".concat(o).concat(n)})})),i={p_json_body:JSON.stringify(o[0])},k(i,{onSuccess:function(e){"OK"===e.p_answer?P(!0):"UNAUTHORIZED"===e.p_answer?f.ZP.error("Codigo de error: 401, acceso denegado."):f.ZP.error("Actualmente presentamos problemas con nuestro metodo de pago, por favor comunicarse con la internacional de seguros.")},onError:function(e){f.ZP.error((0,s.J4)(e.response.data))}})}catch(c){f.ZP.error(c.message)}return[2]}))}));return function(n){return e.apply(this,arguments)}}();(0,m.useEffect)((function(){n&&H(),n&&B()}),[n]);var H=function(){var e=(0,y.Z)((function(){return(0,v.__generator)(this,(function(e){return T(O,{onSuccess:function(e){e&&c(e.result),B(e.result)}}),[2]}))}));return function(){return e.apply(this,arguments)}}();return(0,m.useEffect)((function(){I&&p(I.result[0].PAYMENT_DOCUMENT_TYPE)}),[I]),(0,r.jsxs)(r.Fragment,{children:[q&&(0,r.jsx)(o.a_,{disableBg:!0}),!q&&(0,r.jsx)(V,{dataPay:n,handlePay:U}),Z&&(0,r.jsxs)(G.Z,{open:Z,onClose:F,children:[(0,r.jsx)(Y.Z,{sx:{marginBottom:"1rem",background:"#ffc500"},children:"Aviso de Pago"}),(0,r.jsx)(Q.Z,{children:(0,r.jsx)(z.Z,{children:"Hemos enviado un SMS por v\xeda Whatsapp y un correo electr\xf3nico con instrucciones para continuar con el proceso de su pago. Por favor, revise su bandeja de entrada y mensajes para completar la transacci\xf3n."})}),(0,r.jsx)(W.Z,{children:(0,r.jsx)(l.Z,{color:"primary",variant:"contained",sx:{color:"secondary.main"},onClick:function(){return F()},children:"Aceptar"})})]})]})}H.propTypes={dataPay:_().object,onSuccess:_().func,onError:_().func,amount:_().number,handleHome:_().func};var K=t(49033),X=t(79717),$=t(50480),ee=t(94054),ne=t(40476),te=t(15861),re=t(78010),ae=t(5189);function oe(e){var n=e.handleBncPay,t=e.amount,a=e.listBanks,i=(0,m.useState)(""),u=i[0],d=i[1],p=parseFloat(t.toFixed(2)),_=(0,N.cI)({defaultValues:{p_identification_type:"",p_identification_number:"",p_phone_number:"",p_token:"",p_amount:p}}),f=_.handleSubmit,g=(0,_.watch)(["p_identification_type"]),h=function(){var e=(0,y.Z)((function(e){return(0,v.__generator)(this,(function(t){return n(e),[2]}))}));return function(n){return e.apply(this,arguments)}}();return(0,m.useEffect)((function(){d(g[0])}),[g]),(0,r.jsx)(c.ZP,{container:!0,style:{placeContent:"center"},children:(0,r.jsx)(c.ZP,{item:!0,xs:12,md:6,children:(0,r.jsxs)(o.RV,{methods:_,onSubmit:f(h),children:[(0,r.jsx)(D.Z,{sx:{display:"flex",alignItems:"center"},children:(0,r.jsx)(te.Z,{variant:"h4",children:"C2P Pago M\xf3vil"})}),(0,r.jsxs)(D.Z,{spacing:2.5,children:[(0,r.jsx)(O.dk,{label:"Tipo de identificaci\xf3n",name:"p_identification_type",arrayValues:s.IQ||[],required:!0}),(0,r.jsx)(O.ym,{label:"N\xfamero de identificaci\xf3n",name:"p_identification_number",format:function(e){var n=e,t="";return"J"===u||"G"===u?(n&&n.length>1?(t=n.slice(-1),e=n.slice(0,-1)):(t=n,e=""),e="".concat(e||"","-").concat(t)):e&&(e=(e=e.replace("-","")).replace(/\B(?=(\d{3})+(?!\d))/g,".")),e},required:!0}),(0,r.jsx)(O.du,{label:"Banco Emisor",name:"p_bank",arrayValues:a,required:!0}),(0,r.jsx)(U.Z,{name:"p_phone_number",label:"N\xfamero de Tel\xe9fono",required:!0}),(0,r.jsx)(ae.Z,{name:"p_amount",label:"Monto",readOnly:!0}),(0,r.jsx)(re.Z,{name:"p_token",label:"Token",tooltipMessage:"Este token es proporcionado por su entidad bancaria",required:!0,helperText:"Debe indicar el c\xf3digo proporcionado por el banco"}),(0,r.jsx)(c.ZP,{container:!0,justifyContent:"center",children:(0,r.jsx)(l.Z,{variant:"contained",color:"secondary",type:"submit",fullWidth:!0,size:"large",children:"Enviar Datos"})})]})]})})})}function ie(e){var n,t,a=e.dataPay,u=e.onSuccess,c=e.onError,l=e.amount,d=(0,m.useState)(),p=d[0],_=d[1],g=(0,m.useState)(),h=g[0],b=g[1],P=a.INVOICE[0],C=P.NUMFACT,j=P.CODCLI,O=P.IDEPOL,E={p_string_json_merchant_data:JSON.stringify({id_metodo_cobranza:a.ID_METODO_COBRANZA,total_amount_operation:l,company_code:a.COMPANY_CODE,client_code:a.INVOICE[0].CODCLI}),p_string_json_invoices_data:JSON.stringify(a.INVOICE.map((function(e){var n={};return n.invoice_number=e.NUMFACT,n})))},N=(0,i.Z)(),S=N.useGetPaymentMethods,M=N.usePostMerchantOperation,I=x(),T=I.usePostPayBnc,A=I.useGetListBanks,D=S({p_payment_provider_id:a.PAYMENT_PROVIDER_ID,p_default_currency_company:a.DEFAULT_CURRENCY_COMPANY}).data,R=A(),L=R.data,k=void 0===L?[]:L,q=R.isLoadingListBanks,w=M().mutate,B=T(),F=B.mutate,U=B.isLoading,V=function(){var e=(0,y.Z)((function(){return(0,v.__generator)(this,(function(e){return w(E,{onSuccess:function(e){e&&_(e.result)}}),[2]}))}));return function(){return e.apply(this,arguments)}}(),J=function(e,n,t){return e&&"OK"==e.status?{p_string_json_status_oper:JSON.stringify({company_operation_number:p,status_operation:"APROBADO",long_approval_code:e.Reference,short_approval_code:e.IdTransaction}),p_string_list_json_data:JSON.stringify([{company_operation_number:p,date_approval:(0,Z.Z)(new Date,"dd/MM/yyyy"),another_approval_code:e.Reference,payment_document_type:h,amount_value:parseFloat(l.toFixed(2)),commission_amount:0}])}:{p_string_json_status_oper:JSON.stringify({company_operation_number:p,status_operation:"NoOK",long_approval_code:t,short_approval_code:"No",provider_response:e}),p_string_list_json_data:JSON.stringify([{company_operation_number:p,date_approval:(0,Z.Z)(new Date,"dd/MM/yyyy"),another_approval_code:"S/N",payment_document_type:h,amount_value:parseFloat(l.toFixed(2)),commission_amount:0}])}},G=function(){var e=(0,y.Z)((function(e,n){var t,r;return(0,v.__generator)(this,(function(n){switch(n.label){case 0:return t=Q(e.p_answer),r=J(e.p_answer,0,t),[4,c(r)];case 1:return n.sent(),[4,V()];case 2:return n.sent(),f.ZP.error(t),[2]}}))}));return function(n,t){return e.apply(this,arguments)}}(),Y=function(){var e=(0,y.Z)((function(e,n){var t;return(0,v.__generator)(this,(function(n){return t=J(e.p_answer),u(t),[2]}))}));return function(n,t){return e.apply(this,arguments)}}(),Q=function(e){return void 0===e.message||""===e.message||null===e.message?"No se pudo procesar el pago, por favor comun\xedquese con su Banco Emisor.":"".concat(e.message,". Respuesta del Banco.")};(0,m.useEffect)((function(){a&&V()}),[a]),(0,m.useEffect)((function(){D&&b(D.result[0].PAYMENT_DOCUMENT_TYPE)}),[D]);var z=null!==(t=null===k||void 0===k||null===(n=k.result)||void 0===n?void 0:n.map((function(e){return{VALUES:e.Code,NAME:(0,s.CZ)(e.Name)}})))&&void 0!==t?t:[];return(0,r.jsx)(r.Fragment,{children:U||q?(0,r.jsx)(o.a_,{disableBg:!0}):(0,r.jsx)(oe,{amount:l,handleBncPay:function(e){var n=e.p_identification_number,t=e.p_identification_type,r=e.p_phone_number,a=e.p_token,o=e.p_bank,i={p_string_json_merchant_data:JSON.stringify({DebtorID:"".concat(t).concat(n),DebtorBankCode:o.VALUES,DebtorCellPhone:r.replace("+",""),Amount:parseFloat(l.toFixed(2)),Token:a,ChildClientID:"",BranchID:""}),p_string_json_invoices_data:JSON.stringify({numfact:C,codcli:j,idepol:O})};F(i,{onSuccess:function(n){console.log(n),"OK"===n.p_answer.status?Y(n,e):G(n,e)},onError:function(e){f.ZP.error((0,s.J4)(e.response.data))}})},listBanks:z})})}function ue(e){var n,t,p=e.paymentOptions,_=e.invoicesToPay,y=e.amount,v=e.currency,g=e.onResult,h=e.showReturnButton,b=e.handleShowReturnButton,x=e.multiPaymentCurrency,Z=e.multiPaymentTotal,P=e.setMultiPaymentTotal,C=e.setMultiPaymentCurrency,j=e.filterMultiPayment,O=(0,d.useRouter)(),E=(0,m.useState)(null),N=E[0],S=E[1],M=(0,m.useState)(),I=M[0],T=M[1],A=function(){O.push((0,u.Ri)())},D=(0,i.Z)(),R=D.useUpdateMerchantOperation,L=D.useCurrencyConversion,k=R(),q=k.mutate,B=k.isLoading,U=L(j,{p_codmonedaorig:null!==v&&void 0!==v?v:null,p_codmonedapag:null!==x&&void 0!==x?x:null,p_idepol:null!==(t=null===(n=_[0])||void 0===n?void 0:n.IDEPOL)&&void 0!==t?t:null,p_invoices:JSON.stringify(_.map((function(e){return{NUMFACT:e.NUMFACT,NUMCERT:e.NUMCERT,MTOFACTMONEDA:e.MTOFACTMONEDA,IDEPOL:e.IDEPOL}})))}).data,V=null===U||void 0===U?void 0:U.c_datos_fact[0],J=function(e){S(null),T(null),q(e,{onSuccess:function(e){var n=e.result;g(n)},onError:function(e){b(!1),f.ZP.error((0,s.J4)(e.response.data))}})},G=function(e){S(null),T(null),q(e,{onSuccess:function(e){return e.result},onError:function(e){f.ZP.error((0,s.J4)(e.response.data))}})};return(0,m.useEffect)((function(){V&&P(V.MTOTOTAL)}),[V,P]),(0,r.jsx)(c.ZP,{container:!0,spacing:2.5,children:(0,r.jsxs)(c.ZP,{item:!0,xs:12,md:12,children:[B&&(0,r.jsx)(o.a_,{disableBg:!0}),!B&&(0,r.jsxs)(a.no,{title:"M\xe9todo de Pago",icon:"bi:credit-card",children:[j&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{justifyContent:"center",alignItems:"center",display:"flex"},children:(0,r.jsxs)(ee.Z,{children:[(0,r.jsx)(ne.Z,{id:"demo-radio-buttons-group-label",style:{textAlign:"center"},children:"Forma de Pago"}),(0,r.jsx)(X.Z,{"aria-labelledby":"demo-radio-buttons-group-label",value:x&&x,name:"radio-buttons-group",row:!0,onChange:function(e){return function(e){var n=e.target.value;C(n),S(null)}(e)},children:[{value:"DL3",label:"D\xf3lares"},{value:"Bs",label:"Bol\xedvares"}].map((function(e){return(0,r.jsx)($.Z,{value:e.value,control:(0,r.jsx)(K.Z,{}),label:e.label},e.value)}))})]})}),"DL3"!==x&&(0,r.jsx)("div",{style:{textAlign:"center",fontWeight:"bold",marginTop:"10px"},children:"Esta transacci\xf3n no est\xe1 sujeta al pago del IGTF. La tasa correspondiente es de ".concat(null===U||void 0===U?void 0:U.c_datos_fact[0].TASA.toFixed(2),", seg\xfan el BCV del ").concat(null===U||void 0===U?void 0:U.c_datos_fact[0].FECHA)})]}),p&&(null===p||void 0===p?void 0:p.filter((function(e){return e.DEFAULT_CURRENCY_COMPANY==x})).map((function(e,n){return(0,r.jsx)(l.Z,{onClick:function(){return function(e){e.INVOICE=_,S(e.PAYMENT_PROVIDER_NAME),T(e)}(e)},sx:{padding:"1em 2.5em",margin:"1.5em",boxShadow:"-1px 1px 5px 3px rgb(211 211 211)"},children:(0,r.jsx)("img",{src:"data:image/png;base64,".concat((0,s.Np)(e.LOGO.data)),width:100,alt:"".concat(e.PAYMENT_PROVIDER_NAME)})},"".concat(n,"_").concat(e.PAYMENT_PROVIDER_NAME))}))),N&&function(){switch(N){case"BANESCO":return(0,r.jsx)(F,{dataPay:I,onSuccess:J,onError:G,amount:j?Z:y});case"BANCAMIGA":return(0,r.jsx)(w,{dataPay:I,onSuccess:J,onError:G,amount:y});case"MONEYWAY":return(0,r.jsx)(H,{dataPay:I,onSuccess:J,onError:G,amount:y,handleHome:A});case"BNC":return(0,r.jsx)(ie,{dataPay:I,onSuccess:J,onError:G,amount:j?Z:y,handleHome:A});default:return null}}(),!h&&(0,r.jsxs)(l.Z,{variant:"contained",color:"secondary",onClick:A,children:["Inicio",(0,r.jsx)(o.Ir,{icon:"carbon:home",sx:{mx:1}})]})]})]})})}oe.propTypes={handleBncPay:_().func.isRequired,amount:_().number.isRequired,dataPay:_().object},ie.propTypes={dataPay:_().object,onSuccess:_().func,onError:_().func,amount:_().number},ue.propTypes={paymentOptions:_().array,paymentMethods:_().array,invoicesToPay:_().array,amount:_().number,amountLocal:_().number,amountIgtf:_().number,totalIgtf:_().number,currency:_().string,onResult:_().func,showReturnButton:_().bool,handleShowReturnButton:_().func,operationNumber:_().number,handleOperationNumber:_().func,setTotal:_().func,multiPaymentCurrency:_().string.isRequired,multiPaymentTotal:_().number.isRequired,setMultiPaymentTotal:_().func.isRequired,filterMultiPayment:_().bool.isRequired,setMultiPaymentCurrency:_().func.isRequired}},20792:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(85893),a=(t(72007),t(90948)),o=t(51233),i=t(15861),u=t(67720),s=(0,a.ZP)("div")((function(e){var n=e.theme;return{padding:n.spacing(5),backgroundColor:n.palette.background.neutral,borderRadius:2*Number(n.shape.borderRadius)}}));function c(e){var n=e.mount,t=e.currency;return(0,r.jsxs)(s,{children:[(0,r.jsxs)(o.Z,{spacing:2.5,children:[(0,r.jsxs)(o.Z,{direction:"row",justifyContent:"flex-end",children:[(0,r.jsx)(i.Z,{sx:{color:"text.secondary"},children:t}),(0,r.jsx)(i.Z,{variant:"h2",sx:{mx:1},children:n})]}),(0,r.jsx)(u.Z,{sx:{borderStyle:"dashed",mb:1}})]}),(0,r.jsx)(i.Z,{variant:"caption",sx:{color:"text.secondary",mt:1},children:"* Para los pagos en d\xf3lares se aplica el IGTF"})]})}},28614:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(85893),a=t(45697),o=t.n(a),i=t(3584);function u(e){var n=e.index,t=e.readOnly;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.np,{readonly:!!t,label:"Tel\xe9fono de Habitaci\xf3n",name:"p_local_phone_".concat(n),required:!0,typePhone:["local","movil"]}),(0,r.jsx)(i.np,{readonly:!!t,label:"Tel\xe9fono Celular",name:"p_mobile_phone_".concat(n),required:!0,typePhone:"movil"}),(0,r.jsx)(i.AN,{readonly:!!t,label:"Correo Electr\xf3nico",name:"p_email_".concat(n),type:"email",required:!0})]})}u.propTypes={index:o().any,readOnly:o().bool}},33747:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(85893),a=t(87784),o=t(3584),i=t(96087),u=t(18838);function s(e){var n=e.index,t=e.customerType,s=e.readonly,c=(e.budgetArea,e.disabledInfo),l=(e.disableEdoCivil,(0,(0,i.nB)().useGetValuesTableList)("get_rel_tom","RELTOM").data),d=(0,u.Z)(),p=d.useGetRelationship,_=d.useGetProfession,m=p().data,f=_().data;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.be,{label:"Nombres",name:"p_name_one_".concat(n),readonly:s||!1,disabled:c||!1,required:!0}),(0,r.jsx)(o.be,{label:"Apellidos",name:"p_surmane_one_".concat(n),readonly:s||!1,disabled:c||!1,required:!0}),"INSURED"!==t&&(0,r.jsx)(o.X5,{label:"Fecha de nacimiento",name:"p_birthdate_".concat(n),readonly:s||!1,disabled:c||!1,required:!0}),(0,r.jsx)(o.dk,{label:"Sexo",name:"p_sex_".concat(n),arrayValues:a.km,readonly:s||!1,required:!0}),(0,r.jsx)(o.dk,{label:"Estado civil",name:"p_edocivil_".concat(n),arrayValues:a.B7,readonly:s||!1,required:!0}),"INVOICEER"===t&&(0,r.jsx)(o.dk,{label:"Parentesco",name:"p_relationship_".concat(n),arrayValues:"INSURED"===t?null===m||void 0===m?void 0:m.p_cursor:null===l||void 0===l?void 0:l.p_cursor,required:!0}),"INSURED"!==t&&(0,r.jsx)(o.dk,{label:"Profesi\xf3n",name:"p_profession_".concat(n),arrayValues:null===f||void 0===f?void 0:f.p_cursor,readonly:s||!1,required:!0})]})}},49975:function(e,n,t){t.d(n,{wo:function(){return a.Z},Vl:function(){return s},Bz:function(){return p},Df:function(){return r.Z}});var r=t(33747),a=t(28614),o=t(85893),i=(t(87784),t(3584)),u=t(96087);t(18838);function s(e){var n=e.index,t=(e.customerType,e.readonly),r=(e.budgetArea,e.disabledInfo);e.disableEdoCivil;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.be,{label:"Nombres",name:"p_name_one_".concat(n),readonly:t||!1,disabled:r||!1,required:!0}),(0,o.jsx)(i.be,{label:"Apellidos",name:"p_surmane_one_".concat(n),readonly:t||!1,disabled:r||!1,required:!0}),(0,o.jsx)(i.be,{label:"Direcci\xf3n",name:"p_address_".concat(n),readonly:t||!1,disabled:r||!1,required:!0})]})}var c=t(67294),l=t(45697),d=t.n(l);function p(e){var n,t,r,a=e.disabledInfo,s=e.index,l=e.readonly,d=e.products,p=e.budget,_=e.objForm,m=_.watch,f=_.setValue,y=(0,u.qj)(),v=y.useGetListRisk,g=y.useGetListArticles,h=y.useGetListSubLevels,b=v({p_codprod:null!==d&&void 0!==d?d:null,p_budget_id:null!==p&&void 0!==p?p:null}).data,x=g({p_codprod:null!==d&&void 0!==d?d:null,p_budget_id:null!==p&&void 0!==p?p:null,p_type_risk:null!==(t=m("p_risk_".concat(s)))&&void 0!==t?t:null}).data,Z=h({p_codprod:null!==d&&void 0!==d?d:null,p_budget_id:null!==p&&void 0!==p?p:null,p_article:null!==(r=m("p_article_".concat(s)))&&void 0!==r?r:null}).data;return(0,c.useEffect)((function(){var e;(null===b||void 0===b||null===(e=b.p_list_type_risk)||void 0===e?void 0:e.length)>0&&!m("p_risk_".concat(s))&&f("p_risk_".concat(s),b.p_list_type_risk[0].VALUE)}),[b,f,s,m]),(0,c.useEffect)((function(){var e;m("p_article_".concat(s))&&(null===Z||void 0===Z||null===(e=Z.p_list_sublevel)||void 0===e?void 0:e.length)>0&&!m("p_sublevel_".concat(s))&&f("p_sublevel_".concat(s),Z.p_list_sublevel[0].VALUE)}),[Z,f,s,m]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.dk,{label:"Tipo de Riesgo",name:"p_risk_".concat(s),arrayValues:(null===b||void 0===b?void 0:b.p_list_type_risk)||[],readonly:l||!1,disabled:a||!1,required:!0}),(0,o.jsx)(i.dk,{label:"Articulo",name:"p_article_".concat(s),arrayValues:(null===x||void 0===x?void 0:x.p_list_type_risk)||[],readonly:l||!1,disabled:a||!1,required:!0}),"CB01"!==d&&(0,o.jsx)(i.dk,{label:"Subnivel 1",name:"p_sublevel_".concat(s),arrayValues:(null===Z||void 0===Z||null===(n=Z.p_list_sublevel)||void 0===n?void 0:n.length)?Z.p_list_sublevel:m("p_article_".concat(s))?[{VALUE:"000",NAME:"Sin Subnivel."}]:[],readonly:l||!1,disabled:a||!1,required:!0}),(0,o.jsx)(i.be,{label:"Direcci\xf3n de Riesgo",name:"p_installation_address_".concat(s),readonly:l||!1,disabled:a||!1,required:!0})]})}p.propTypes={disabledInfo:d().bool,index:d().string,readonly:d().bool}}}]);